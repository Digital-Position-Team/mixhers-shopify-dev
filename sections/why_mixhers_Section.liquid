<style>
  .product-column img {
    width: 100%;
    height: 280px;
    object-fit: contain;
}
  table.comparison-table {
    border-collapse: collapse;
}
  table.comparison-table tr td {
    padding: 10px 0px;
}
  table.comparison-table tr {
    border-bottom: 1px solid #E1E1E1;
}
  .why-mixhers-container {
    padding: 5rem 0px;
    border-bottom: 1px solid #000;
}
  table.comparison-table tr td.mixher, table.comparison-table tr td.otc, table.comparison-table tr td.hormonal {
    text-align: center;
}
  .product-column p {
    max-width: 100%;
    width: 35%;
    margin: 0px auto;
    padding-bottom: 20px;
}
  .mixhers_product h1 {
    max-width: 100%;
    width: 80%;
    margin: 0px;
}
  @media screen and (min-width:768px){
    .mobile-only{
      display:none;
    }
  }
  @media screen and (max-width:768px){
    .why-mixhers-container.desktop-only {
    display: none;
}
    .mixhers_product {
    text-align: center;
}
.compare_list {
    display: flex;
    padding: 20px 0px;
          gap: 20px;
    border-bottom: 1px solid #E1E1E1;
}
    span.head_compare {
    font-family: 'Faire Sprig';
    font-weight: 400;
    font-size: 15.88px;
    line-height: 20px;
    vertical-align: middle;
}
    .product-column p {
    font-family: 'Faire Sprig';
    font-weight: 400;
    font-size: 19.27px;
    line-height: 21.19px;
    text-align: center;
    vertical-align: middle;
}
    .swiper-pagination-bullet {
  background: #ccc;
  opacity: 1;
}
    .mobile-only .mixhers_product h1.font-serif {
    width: 100%;
}
.swiper-pagination-bullet-active {
  background: #4A4A4A; /* Or your theme color */
}
    .why-mixhers-container .swiper.product-swiper .swiper-pagination {
    bottom: -2px;
}
  }
  @media screen and (max-width: 360px) {
    .product-column p {
        width: 40%;
    }
  }
</style>
<!-- mobile -->

<!-- Your Section -->
<div class="why-mixhers-container mobile-only" style="background:{{ section.settings.background-color }};">
  <div class="page-width">
    <div class="mixhers_product">
      <h1 class="font-serif">{{ section.settings.head }}</h1>
      <p>{{ section.settings.sub_head }}</p>
    </div>

    <!-- Swiper Container -->
    <div class="swiper product-swiper">
      <div class="swiper-wrapper product-comparison">
        <div id="mixer" class="swiper-slide product-column" data-id="mixher">
          <img src="{{ section.settings.comparison_img1 | img_url:'master' }}" alt="Mixhers Hertime PMS">
          <p>{{ section.settings.comparison_txt1 }}</p>
        </div>
        <div id="otc" class="swiper-slide product-column" data-id="otc">
          <img src="{{ section.settings.comparison_img2 | img_url:'master' }}" alt="OTC Pain Pills">
          <p>{{ section.settings.comparison_txt2 }}</p>
        </div>
        <div id="hormonal" class="swiper-slide product-column" data-id="hormonal">
          <img src="{{ section.settings.comparison_img3 | img_url:'master' }}" alt="Hormonal Birth Control">
          <p>{{ section.settings.comparison_txt3 }}</p>
        </div>
      </div>
      <div class="swiper-pagination"></div>
    </div>

    <!-- Comparison List -->
    <div class="comparison_content">
      {% for block in section.blocks %}
        <div class="compare_list">
          <div style="width:80%;">
            <span class="head_compare">{{ block.settings.comparison_item }}</span>
          </div>
          <div class="mixher tick" style="width:10%;" data-id="mixher">
            {% if block.settings.mixher_ok %}
              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16" fill="none"><path d="M0.82373 8.51001L5.67667 14.51L17.5884 1.01001" stroke="#FF59E4" stroke-linecap="round"/></svg>
            {% endif %}
          </div>
          <div class="otc tick" style="width:10%;" data-id="otc">
            {% if block.settings.otc_ok %}
              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16" fill="none"><path d="M0.82373 8.51001L5.67667 14.51L17.5884 1.01001" stroke="#000" stroke-linecap="round"/></svg>
            {% endif %}
          </div>
          <div class="hormonal tick" style="width:10%;" data-id="hormonal">
            {% if block.settings.hormonal_ok %}
              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16" fill="none"><path d="M0.82373 8.51001L5.67667 14.51L17.5884 1.01001" stroke="#000" stroke-linecap="round"/></svg>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>

                
  </div>
</div>

<!-- Swiper + Active Logic Script -->
<script>
  // document.addEventListener("DOMContentLoaded", function () {
  //   const swiper = new Swiper(".product-swiper", {
  //     slidesPerView: 1,
  //     spaceBetween: 20,
  //     on: {
  //       slideChange: function () {
  //         const activeSlide = document.querySelector(".product-swiper .swiper-slide-active");
  //         const activeId = activeSlide?.dataset.id;

  //         document.querySelectorAll(".tick").forEach(el => {
  //           el.style.display = el.dataset.id === activeId ? "block" : "none";
  //         });
  //       }
  //     }
  //   });

  //   // Initial visibility on load
  //   const initId = document.querySelector(".product-swiper .swiper-slide-active")?.dataset.id;
  //   document.querySelectorAll(".tick").forEach(el => {
  //     el.style.display = el.dataset.id === initId ? "block" : "none";
  //   });
  // });
  document.addEventListener("DOMContentLoaded", function () {
    const swiper = new Swiper(".product-swiper", {
      slidesPerView: 1,
      spaceBetween: 20,
      loop: false,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      on: {
        init: function () {
          updateTicks(this.slides[this.activeIndex].dataset.id);
        },
        slideChange: function () {
          updateTicks(this.slides[this.activeIndex].dataset.id);
        }
      }
    });

    function updateTicks(activeId) {
      document.querySelectorAll(".tick").forEach(el => {
        el.style.display = el.dataset.id === activeId ? "block" : "none";
      });
    }
  });
</script>

<!--  desktop-->
          
<div class="why-mixhers-container desktop-only" style="background:{{ section.settings.background-color }};">
  <div class="page-width">
  <table class="comparison-table" style="width:100%;">
    <tr>
      <td style="width:34%;">
        <div class="mixhers_product">
          <h1 class="font-serif">{{section.settings.head }}</h1>
          <p>{{ section.settings.sub_head }}</p>
        </div>
      </td>
      <td class="mixher" style="width:22%;" >
        <div class="product-column">
          <img src="{{ section.settings.comparison_img1 | img_url:'master' }}" alt="Mixhers Hertime PMS">
          <p>{{ section.settings.comparison_txt1 }}</p>
        </div>
      </td>
      <td class="otc" style="width:22%;">
        <div class="product-column">
          <img src="{{ section.settings.comparison_img2 | img_url:'master' }}" alt="OTC Pain Pills">
          <p>{{ section.settings.comparison_txt2 }}</p>
        </div>
      </td>
      <td class="hormonal" style="width:22%;">
        <div class="product-column">
          <img src="{{ section.settings.comparison_img3 | img_url:'master' }}" alt="Hormonal Birth Control">
          <p>{{ section.settings.comparison_txt3 }}</p>
        </div>
      </td>
    </tr>
    {% for block in section.blocks %}
      <tr>
        <td style="width:34%;"><span class="head_compare">{{ block.settings.comparison_item}}</span></td>
        <td class="mixher" style="width:22%;">{% if block.settings.mixher_ok %}<svg xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16" fill="none"><path d="M0.82373 8.51001L5.67667 14.51L17.5884 1.01001" stroke="#FF59E4" stroke-linecap="round"/></svg>{% endif %}</td>
        <td class="otc" style="width:22%;">{% if block.settings.otc_ok %}<svg xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16" fill="none"><path d="M0.82373 8.51001L5.67667 14.51L17.5884 1.01001" stroke="#000" stroke-linecap="round"/></svg>{% endif %}</td>
        <td class="hormonal" style="width:22%;">{% if block.settings.hormonal_ok %}<svg xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16" fill="none"><path d="M0.82373 8.51001L5.67667 14.51L17.5884 1.01001" stroke="#000" stroke-linecap="round"/></svg>{% endif %}</td>
      </tr>
    {% endfor %}
  </table>
</div>
</div>

{% schema %}
  {
    "name": "Comparison Why Mixhers",
    "settings": [
      {
        "type":"color",
        "id":"background-color",
        "label":"Background Color",
        "default":"#F4F9FD"
      },
      {
        "type":"text",
        "id":"head",
        "label":"Heading"
      },
      {
        "type":"text",
        "id":"sub_head",
        "label":"Sub-Heading"
      },
      {
        "type":"image_picker",
        "id":"comparison_img1",
        "label":"Comparison Image1"
      },
      {
        "type":"text",
        "id":"comparison_txt1",
        "label": "Text 1"
      },
      {
        "type":"image_picker",
        "id":"comparison_img2",
        "label":"Comparison Image2"
      },
      {
        "type":"text",
        "id":"comparison_txt2",
        "label": "Text 2"
      },
      {
        "type":"image_picker",
        "id":"comparison_img3",
        "label":"Comparison Image3"
      },
      {
        "type":"text",
        "id":"comparison_txt3",
        "label": "Text 3"
      }
      
    ],
    "blocks":[
      {
        "type":"comparison-table",
        "name":"Comparison List",
        "settings": [
          {
            "type":"text",
            "id":"comparison_item",
            "label": "Text"
          },
          {
            "type":"checkbox",
            "id":"mixher_ok",
            "label":"Mixhers Hertime PMS"
          },
          {
            "type":"checkbox",
            "id":"otc_ok",
            "label":"OTC Pain Pills"
          },
          {
            "type":"checkbox",
            "id":"hormonal_ok",
            "label":"Hormonal Birth Control"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Comparison Why Mixhers"
      }
    ]
  }
{% endschema %}